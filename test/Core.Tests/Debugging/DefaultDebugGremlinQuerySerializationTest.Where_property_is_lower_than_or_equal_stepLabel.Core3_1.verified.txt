g.V().hasLabel('Person').values('Age').as('_a').V().hasLabel('Person').has('Age',__.where(lte('_a'))).project('id','label','properties').by(id).by(label).by(__.properties().group().by(label).by(__.project('id','label','value','properties').by(id).by(label).by(value).by(__.valueMap()).fold()))