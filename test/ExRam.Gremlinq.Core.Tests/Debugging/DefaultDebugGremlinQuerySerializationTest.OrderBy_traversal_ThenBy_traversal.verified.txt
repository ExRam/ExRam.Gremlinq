g.V().hasLabel('Person').has('Name').filter(__.values('Gender')).order().by(__.values('Name'),asc).by(__.values('Gender'),asc).project('id','label','properties').by(id).by(label).by(__.properties().group().by(label).by(__.project('id','label','value','properties').by(id).by(label).by(value).by(__.valueMap()).fold()))